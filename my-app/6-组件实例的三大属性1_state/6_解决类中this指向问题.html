<!DOCTYPE html>
<html lang = "en">
<head>
  <meta charset = "UTF-8">
  <!-- Create 2022/3/18 9:06 PM -->
  <title>6_è§£å†³ç±»ä¸­thisæŒ‡å‘é—®é¢˜</title>
</head>
<body>
  <!-- å‡†å¤‡å¥½ä¸€ä¸ªå®¹å™¨ -->
  <div id = "test"></div>

  <!-- å¼•å…¥reactæ ¸å¿ƒåº“ -->
  <script type = "text/javascript" src = "../js/react.development.js"></script>
  <!-- å¼•å…¥react-domï¼Œç”¨äºæ”¯æŒreactæ“ä½œDOM -->
  <script type = "text/javascript" src = "../js/react-dom.development.js"></script>
  <!-- å¼•å…¥babelï¼Œç”¨äºå°†jsxè½¬ä¸ºjs -->
  <script type = "text/javascript" src = "../js/babel.min.js"></script>

  <!-- æ­¤å¤„ä¸€å®šè¦å†™babelã€‚è¡¨ç¤ºè¿™é‡Œå†™çš„æ˜¯jsxï¼Œè€Œä¸æ˜¯jsï¼Œå¹¶ä¸”æ˜¯ä¾èµ–babelè¿›è¡Œç¿»è¯‘çš„ -->
  <script type = "text/babel">
    // ç¬¬1æ­¥:åˆ›å»ºç»„ä»¶
    class Weather extends React.Component {
      constructor(props) {
        super(props);
        this.state = {
          isHot: true,
        };

        // è§£å†³changeWeatherä¸­thisæŒ‡å‘é—®é¢˜
        // ï¼ˆ1ï¼‰æ„é€ å™¨ä¸­çš„thisæ˜¯ç»„ä»¶çš„å®ä¾‹å¯¹è±¡
        // ï¼ˆ2ï¼‰åˆ†æç­‰å·å³ä¾§
        //    ï¼ˆaï¼‰changeWeatheræ”¾åœ¨Weatherçš„åŸå‹å¯¹è±¡ä¸Šï¼Œå³ä½¿å®ä¾‹è‡ªèº«ä¸Šæ²¡æœ‰changeWeatherï¼Œä¹Ÿä¼šé¡ºç€åŸå‹æ‰¾åˆ°åŸå‹ä¸­çš„changeWeatheræ–¹æ³•
        //    ï¼ˆbï¼‰ç„¶åè°ƒç”¨bind()ç”Ÿæˆä¸€ä¸ªæ–°çš„å‡½æ•°ï¼Œå¹¶å°†thisä¼ ç»™è¿™ä¸ªæ–°çš„å‡½æ•°ã€‚
        // ï¼ˆ3ï¼‰åˆ†æthis.foo =
        //     è¿™ä¸ªæ–°çš„å‡½æ•°çš„åå­—å«ä½œfooï¼ŒfooæŒ‚åœ¨äº†å®ä¾‹å¯¹è±¡èº«ä¸Šã€‚
        this.foo = this.changeWeather.bind(this);

        //
        // æ‰§è¡Œå®Œä¸‹é¢ğŸ‘‡ğŸ»ä»£ç åï¼ŒWeatherå®ä¾‹ä¸Šå°±å¤šäº†ä¸€ä¸ªchangeWeatheræ–¹æ³•
      }

      changeWeather() {
        // changeWeatheræ”¾åœ¨äº†Weatherçš„åŸå‹å¯¹è±¡ä¸Šï¼Œä¾›å®ä¾‹ä½¿ç”¨
        // é€šè¿‡Weatherå®ä¾‹è°ƒç”¨changeWeatherçš„æ—¶å€™ï¼ŒchangeWeatherä¸­çš„thiså°±æ˜¯Weatherå®ä¾‹
        // ç”±äºchangeWeatheræ˜¯ä½œä¸ºonClickçš„å›è°ƒï¼Œæ‰€ä»¥ä¸æ˜¯é€šè¿‡Weatherå®ä¾‹è°ƒç”¨çš„ï¼Œæ˜¯ç›´æ¥è°ƒç”¨ï¼Œ
        // å¹¶ä¸”ç”±äºç±»ä¸­çš„æ–¹æ³•é»˜è®¤å¼€å¯äº†å±€éƒ¨ä¸¥æ ¼æ¨¡å¼ï¼Œæ‰€ä»¥changeWeatherä¸­çš„thisæ˜¯undefinedã€‚
        // ã€å…·ä½“åˆ†æï¼Œè§"å¤ä¹ /3_ç±»ä¸­çš„æ–¹æ³•thisæŒ‡å‘.html"ã€‘
        console.log("this=", this);
      }

      render() {
        return (
          <h2 onClick = {this.foo}>ä»Šå¤©å¤©æ°”å¾ˆ{this.state.isHot ? "ç‚çƒ­" : "å‡‰çˆ½"}</h2>
        )
      }
    }

    // ç¬¬2æ­¥:æ¸²æŸ“ç»„ä»¶åˆ°é¡µé¢
    ReactDOM.render(<Weather/>, document.getElementById('test'));

  </script>
</body>

</html>